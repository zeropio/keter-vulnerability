import { Component, OnInit } from '@angular/core';
import Swal from 'sweetalert2';
import { LoginService } from 'src/app/service/login.service';
import { iLogin2 } from 'src/app/model/login';
import { Router } from '@angular/router';

@Component({
  selector: 'app-idor',
  templateUrl: './idor.component.html',
  styleUrls: ['./idor.component.css'],
})
export class IdorComponent implements OnInit {
  listUser: iLogin2[] = [];

  constructor(private service: LoginService, private router: Router) {}

  ngOnInit(): void {
    console.clear();
    console.info('Remember to forbidden the admin info!');

    let id = this.router.url.substr(15);
    this.service.getUser(id).subscribe((data) => {
      this.listUser = data;
    });

    if (id == '1') {
      Swal.fire({
      icon: 'success',
      title: 'Congrats, challenge complete!',
      text: 'You have found the vulnerability',
    });
    }
  }
}
